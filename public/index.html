<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Client-Side Liquid Templates</title>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	
    <script type="text/javascript" src="./javascripts/site.js"></script>
	<script type="text/javascript" src="./javascripts/liquify.js"></script>
	<script type="text/javascript">
  	var Liquid = require('/liquify'); 
	</script>
    <!-- NOTE: Fixes 
	global = window in site.js
	liquid.js post-generated changes: 
	* add util.inherits (from https://raw.github.com/donedotcom/node-browserify/ebd417504853f02ab572186833ae4d6629a20085/builtins/util.js):
  this.inherits = function (ctor, superCtor) {
      ctor.super_ = superCtor;
      ctor.prototype = Object.create(superCtor.prototype, 
        { constructor: { value: ctor, enumerable: false, 
          writable: true, configurable: true } });
  };
	* inside the liquid.js defines call, move everything from Liquid.Helpers = ... to Liquid.Template.registerFilter(Liquid.StandardFilters) to the 
    liqify.coffee define, directly below the Liqud = require('liquid-node') line (and above the requires for the tags), then update the paths of 
    the moved requires from "./lib/liquid/{module}" to "node_modules/liquid-node/lib/liquid/{module}"
    * also, remove everything after the registerFilter call that has to do with loading the tags
  * copy/paste definitions of __hasProp and __extends from above into the top of the ElseCondition definition.
	-->
  </head>

  <body id="index" onload="">
    <script id="template" type="text/liquid">
      Here is the value: <strong>{{ foobar}}</strong>
    </script>
	
	<script id="if" type="text/liquid">
	Trying out if.  If it works, you should see "Hooray!":&nbsp;
	{% if true %}
	Hooray!
	{% else %}
	Boo!
	{% endif %}
	</script>

    <script type="text/javascript">
      $(function() {
        $('body').append(Liquid.Template.parse($('script#template').html()).render({ foobar: 'bizbuzz'}));
		    $('body').append(Liquid.Template.parse($('script#if').html()).render({}));
      });
    </script>
  </body>
</html>